<?php

/**
 * @file
 * Install, update and uninstall functions for the os2forms_forloeb_profile installation profile.
 */

/**
 * Implements hook_install().
 */
function os2forms_forloeb_install() {
    $theme_list = [
        'claro',
        'gin',
    ];

    // Install themes
    \Drupal::service('theme_installer')->install($theme_list);

    // Get theme manager
    $system_theme = \Drupal::configFactory()->getEditable('system.theme');

    // Set default and admin themes
    $system_theme
        ->set('default', 'gin')
        ->set('admin', 'gin')
        ->save();

    // Create ForlÃ¸b roles
    $roles[0]['id'] = ['forloeb_designer','flow_designer','flow_designer','sagsbehandler','leder','medarbejder'];
    $roles[0]['label'] = ['forloeb_designer','flow_designer','flow_designer','sagsbehandler','leder','medarbejder'];
    for ($i = 0; $i < count($roles); $i++) {
        //your data array
        $data = array('id' => $roles[$i]['id'], 'label' => $roles[$i]['label']);
        //creating your role
        $role = \Drupal\user\Entity\Role::create($data);
        //saving your role
        $role->save();
    }
}